@{
    ViewData["Title"] = "Home";
    var student = User.ToAthenaUser();
}

@if (!User.Identity.IsAuthenticated)
{
<div class="notLoggedIn" style="padding-top:5em">
    <h1>
        Welcome to the Athena Scheduling Assistant!
    </h1>
    <p class="flow-text" style="padding-bottom:5em">
        This tool was designed by students for students, to allow for a more streamlined approach to allow students to schedule their course work for each semester and allow them to track thier progression through their degree.
    </p>
    <div class="row center" >
        <div class="col s4">
            <i class="large material-icons blue-text text-accent-3">person_add</i>

            <h4>Security</h4>
            <p>Uses your Google or Microsoft account for easy authentication. We provide a means of keeping your information safe by using the same authentication services as most universities.</p>
        </div>
        <div class="col s4">
            <i class="large material-icons blue-text text-accent-3">event_available</i>

            <h4>Scheduling & Things</h4>
            <p> Schedule the classes you need and view your week at a glance. Manage the classes you've taken and programs you're enrolled in. You can even see the progress of your program completion.</p>
        </div>
        <div class="col s4">
            <i class="large material-icons  blue-text text-accent-3">mood</i>

            <h4>Simplicity</h4>
            <p>Enjoy an easy to use and intuitive layout and functionality. We offer a solution to the many, MANY, overly complicated and numerous scheduling systems that universities already use.</p>
        </div>
    </div>
</div>
}
else
{
    <div class="vh-80">
        <div class="row">
            <div class="col s12">
                <ul class="tabs tabs-fixed-width">
                    <li class="tab hidden-print"><a href="#student" class="active">Student</a></li>
                    <li class="tab hidden-print"><a href="#schedule">Schedule</a></li>
                </ul>
                <div id="student" class="col s12 vh-80">
                    @Html.Partial("_StudentDetails")
                </div>
                <div id="schedule" class="col s12 vh-80">
                    @Html.Partial("_CurrentSchedule", true)
                </div>
                @Html.Partial("_CurrentScheduleModal", true)
            </div>
        </div>
    </div>
}

@section scripts {
    @if (User.Identity.IsAuthenticated)
    {
        <script type="text/javascript" src="@Url.Content("~/schedule.js")"></script>
        <script type="text/javascript">
            $(function () {
                athena.schedule.init('@(student.Id)', true);

                $('ul.tabs').tabs({
                    onShow: function(tab) {
                        if ($(tab).attr('id') === "schedule") {
                            athena.schedule.render();                            
                        }
                    }
                });
            });

            $('.printBtn').on('click', function () {
                window.print();
            });
        </script>
    }
}